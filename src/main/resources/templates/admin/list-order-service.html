<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
  rel="stylesheet"
/>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
  rel="stylesheet"
/>
<link rel="stylesheet" th:href="@{/css/list-order-service.css}" />
<div class="content">
  <div class="card">
    <div class="card-body">
      <!-- Tabs -->
      <ul class="nav nav-tabs mb-4" id="adminTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="requests-tab"
            data-bs-toggle="tab"
            data-bs-target="#requests"
            type="button"
            role="tab"
          >
            Danh sách yêu cầu
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="orders-tab"
            data-bs-toggle="tab"
            data-bs-target="#orders"
            type="button"
            role="tab"
          >
            Đơn hàng dịch vụ
          </button>
        </li>
      </ul>
      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Service Requests Tab -->
        <div class="tab-pane fade show active" id="requests" role="tabpanel">
          <div class="filter-section">
            <form
              method="get"
              action="/admin/service-requests"
              id="requestFilterForm"
            >
              <div class="row g-3 align-items-end">
                <div class="col-md-3">
                  <label class="form-label">Trạng thái</label>
                  <select class="form-select" name="status">
                    <option value="">Tất cả</option>
                    <option
                      th:each="status : ${statuses}"
                      th:value="${status.name()}"
                      th:text="${status.displayName}"
                      th:selected="${selectedStatus != null && selectedStatus.name() == status.name()}"
                    ></option>
                  </select>
                </div>
                <div class="col-md-3">
                  <label class="form-label">Tìm kiếm</label>
                  <input
                    type="text"
                    class="form-control"
                    name="keyword"
                    th:value="${keyword}"
                    placeholder="Tên/SĐT"
                  />
                </div>
                <div class="col-md-3">
                  <label class="form-label">Tháng</label>
                  <input
                    type="month"
                    class="form-control"
                    name="requestMonth"
                    th:value="${selectedRequestMonth}"
                  />
                </div>
                <div class="col-md-3 filter-buttons">
                  <button
                    type="submit"
                    class="btn btn-primary btn-action"
                    title="Lọc"
                  >
                    <i class="bi bi-funnel"></i>
                  </button>
                  <button
                    type="button"
                    class="btn btn-secondary btn-action"
                    title="Xóa lọc"
                    onclick="clearRequestFilter()"
                  >
                    <i class="bi bi-x-circle"></i>
                  </button>
                </div>
              </div>
              <!-- Hidden fields để giữ các filter của tab khác và phân trang -->
              <input
                type="hidden"
                name="orderStatus"
                th:value="${selectedOrderStatus?.name()}"
              />
              <input
                type="hidden"
                name="orderKeyword"
                th:value="${orderKeyword}"
              />
              <input type="hidden" name="month" th:value="${selectedMonth}" />
              <input type="hidden" name="requestPage" value="0" />
              <input
                type="hidden"
                name="orderPage"
                th:value="${orderCurrentPage}"
              />
            </form>
          </div>

          <!-- Filter Summary for Requests -->
          <div
            class="filter-summary"
            id="requestFilterSummary"
            style="display: none"
          >
            <strong>Đang lọc:</strong>
            <span id="requestFilterTags"></span>
          </div>

          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Tên khách hàng</th>
                  <th>Số điện thoại</th>
                  <th>Dịch vụ</th>
                  <th>Ngày tạo</th>
                  <th>Trạng thái</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody>
                <tr th:if="${#lists.isEmpty(requests)}" class="no-results">
                  <td colspan="6">
                    <i class="bi bi-search"></i><br />
                    Không tìm thấy yêu cầu nào phù hợp với bộ lọc hiện tại
                  </td>
                </tr>
                <tr th:each="request : ${requests}">
                  <td th:text="${request.fullName}"></td>
                  <td th:text="${request.phone}"></td>
                  <td th:text="${request.service.name}"></td>
                  <td
                    th:text="${#temporals.format(request.createdAt, 'dd/MM/yyyy')}"
                  ></td>
                  <td>
                    <span
                      class="badge"
                      th:classappend="' bg-' + ${request.status.badgeColor}"
                      th:text="${request.status.displayName}"
                    >
                    </span>
                  </td>
                  <td>
                    <!-- Nút tạo đơn cho PENDING và CONTACTED -->
                    <button
                      class="btn btn-success btn-action"
                      data-bs-toggle="modal"
                      data-bs-target="#createOrderModal"
                      th:attr="data-request-id=${request.id}, 
                                  data-service-name=${request.service.name}, 
                                  data-status=${request.status.name()}"
                      th:if="${request.status.name() == 'PENDING' || request.status.name() == 'CONTACTED'}"
                      title="Tạo đơn hàng"
                    >
                      <i class="bi bi-pencil"></i>
                    </button>

                    <!-- Nút khôi phục cho CANCELLED -->
                    <button
                      class="btn btn-warning btn-action btn-restore"
                      th:attr="data-request-id=${request.id}, data-service-name=${request.service.name}"
                      th:if="${request.status.name() == 'CANCELLED'}"
                      title="Khôi phục yêu cầu"
                    >
                      <i class="bi bi-arrow-clockwise"></i>
                    </button>

                    <!-- Vô hiệu hóa cho CONFIRMED -->
                    <button
                      class="btn btn-secondary btn-action"
                      th:if="${request.status.name() == 'CONFIRMED'}"
                      disabled
                      title="Đã chốt đơn - không thể thao tác"
                    >
                      <i class="bi bi-lock"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination for Requests -->
          <div class="pagination-container" th:if="${requestTotalElements > 0}">
            <div class="pagination-info">
              Hiển thị
              <strong th:text="${#lists.size(requests)}"></strong> trong tổng số
              <strong th:text="${requestTotalElements}"></strong> yêu cầu
            </div>
            <nav aria-label="Request pagination">
              <ul class="pagination">
                <li
                  class="page-item"
                  th:classappend="${!requestHasPrevious} ? 'disabled'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                        status=${selectedStatus?.name()},
                        keyword=${keyword},
                        orderStatus=${selectedOrderStatus?.name()},
                        orderKeyword=${orderKeyword},
                        month=${selectedMonth},
                        requestPage=${requestCurrentPage - 1},
                        orderPage=${orderCurrentPage}
                      )}"
                    th:if="${requestHasPrevious}"
                  >
                    <i class="bi bi-chevron-left"></i> Trước
                  </a>
                  <span class="page-link" th:unless="${requestHasPrevious}">
                    <i class="bi bi-chevron-left"></i> Trước
                  </span>
                </li>

                <li
                  class="page-item"
                  th:each="pageNum : ${#numbers.sequence(0, requestTotalPages - 1)}"
                  th:if="${pageNum >= requestCurrentPage - 2 && pageNum <= requestCurrentPage + 2}"
                  th:classappend="${pageNum == requestCurrentPage} ? 'active'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                           status=${selectedStatus?.name()},
                           keyword=${keyword},
                           orderStatus=${selectedOrderStatus?.name()},
                           orderKeyword=${orderKeyword},
                           month=${selectedMonth},
                           requestPage=${pageNum},
                           orderPage=${orderCurrentPage}
                         )}"
                    th:text="${pageNum + 1}"
                    >1</a
                  >
                </li>

                <li
                  class="page-item"
                  th:classappend="${!requestHasNext} ? 'disabled'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                        status=${selectedStatus?.name()},
                        keyword=${keyword},
                        orderStatus=${selectedOrderStatus?.name()},
                        orderKeyword=${orderKeyword},
                        month=${selectedMonth},
                        requestPage=${requestCurrentPage + 1},
                        orderPage=${orderCurrentPage}
                      )}"
                    th:if="${requestHasNext}"
                  >
                    Sau <i class="bi bi-chevron-right"></i>
                  </a>
                  <span class="page-link" th:unless="${requestHasNext}">
                    Sau <i class="bi bi-chevron-right"></i>
                  </span>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- Service Orders Tab -->
        <div class="tab-pane fade" id="orders" role="tabpanel">
          <div class="filter-section">
            <form
              method="get"
              action="/admin/service-requests"
              id="orderFilterForm"
            >
              <div class="row g-3 align-items-end">
                <div class="col-md-3">
                  <label class="form-label">Trạng thái</label>
                  <select class="form-select" name="orderStatus">
                    <option value="">Tất cả</option>
                    <option
                      th:each="orderStatus : ${orderStatuses}"
                      th:value="${orderStatus.name()}"
                      th:text="${orderStatus.displayName}"
                      th:selected="${selectedOrderStatus != null && selectedOrderStatus.name() == orderStatus.name()}"
                    ></option>
                  </select>
                </div>
                <div class="col-md-3">
                  <label class="form-label">Tìm kiếm</label>
                  <input
                    type="text"
                    class="form-control"
                    name="orderKeyword"
                    th:value="${orderKeyword}"
                    placeholder="Tên/SĐT/Dịch vụ"
                  />
                </div>
                <div class="col-md-3">
                  <label class="form-label">Tháng</label>
                  <input
                    type="month"
                    class="form-control"
                    name="month"
                    th:value="${selectedMonth}"
                  />
                </div>
                <div class="col-md-3 filter-buttons">
                  <button
                    type="submit"
                    class="btn btn-primary btn-action"
                    title="Lọc"
                  >
                    <i class="bi bi-funnel"></i>
                  </button>
                  <button
                    type="button"
                    class="btn btn-secondary btn-action"
                    title="Xóa lọc"
                    onclick="clearOrderFilter()"
                  >
                    <i class="bi bi-x-circle"></i>
                  </button>
                </div>
              </div>
              <!-- Hidden fields để giữ các filter của tab khác và phân trang -->
              <input
                type="hidden"
                name="status"
                th:value="${selectedStatus?.name()}"
              />
              <input type="hidden" name="keyword" th:value="${keyword}" />
              <input
                type="hidden"
                name="requestMonth"
                th:value="${selectedRequestMonth}"
              />
              <input
                type="hidden"
                name="requestPage"
                th:value="${requestCurrentPage}"
              />
              <input type="hidden" name="orderPage" value="0" />
            </form>
          </div>

          <!-- Filter Summary for Orders -->
          <div
            class="filter-summary"
            id="orderFilterSummary"
            style="display: none"
          >
            <strong>Đang lọc:</strong>
            <span id="orderFilterTags"></span>
          </div>

          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Mã đơn</th>
                  <th>Tên khách hàng</th>
                  <th>Tên Dịch vụ</th>
                  <th>Giá chốt</th>
                  <th>Ngày xác nhận</th>
                  <th>Trạng thái</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody>
                <tr th:if="${#lists.isEmpty(orderList)}" class="no-results">
                  <td colspan="7">
                    <i class="bi bi-search"></i><br />
                    Không tìm thấy đơn hàng nào phù hợp với bộ lọc hiện tại
                  </td>
                </tr>
                <tr th:each="order : ${orderList}">
                  <td th:text="${order.id}"></td>
                  <td th:text="${order.request.fullName}"></td>
                  <td th:text="${order.request.service.name}"></td>
                  <td
                    th:text="${#numbers.formatDecimal(order.quotedPrice, 0, 'POINT', 0, 'COMMA') + ' VNĐ'}"
                  ></td>
                  <td
                    th:text="${#temporals.format(order.confirmedAt, 'dd-MM-yyyy')}"
                  ></td>
                  <td>
                    <span
                      class="badge"
                      th:classappend="' bg-' + ${order.status.badgeColor}"
                      th:text="${order.status.displayName}"
                    >
                    </span>
                  </td>
                  <td>
                    <button
                      class="btn btn-info btn-action btn-detail"
                      th:attr="data-id=${order.id}, data-status=${order.status}"
                      data-bs-toggle="modal"
                      data-bs-target="#orderDetailsModal"
                    >
                      <i class="bi bi-eye"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Pagination for Orders -->
          <div class="pagination-container" th:if="${orderTotalElements > 0}">
            <div class="pagination-info">
              Hiển thị
              <strong th:text="${#lists.size(orderList)}"></strong> trong tổng
              số <strong th:text="${orderTotalElements}"></strong> đơn hàng
            </div>
            <nav aria-label="Order pagination">
              <ul class="pagination">
                <li
                  class="page-item"
                  th:classappend="${!orderHasPrevious} ? 'disabled'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                        status=${selectedStatus?.name()},
                        keyword=${keyword},
                        orderStatus=${selectedOrderStatus?.name()},
                        orderKeyword=${orderKeyword},
                        month=${selectedMonth},
                        requestPage=${requestCurrentPage},
                        orderPage=${orderCurrentPage - 1}
                      )}"
                    th:if="${orderHasPrevious}"
                  >
                    <i class="bi bi-chevron-left"></i> Trước
                  </a>
                  <span class="page-link" th:unless="${orderHasPrevious}">
                    <i class="bi bi-chevron-left"></i> Trước
                  </span>
                </li>

                <li
                  class="page-item"
                  th:each="pageNum : ${#numbers.sequence(0, orderTotalPages - 1)}"
                  th:if="${pageNum >= orderCurrentPage - 2 && pageNum <= orderCurrentPage + 2}"
                  th:classappend="${pageNum == orderCurrentPage} ? 'active'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                           status=${selectedStatus?.name()},
                           keyword=${keyword},
                           orderStatus=${selectedOrderStatus?.name()},
                           orderKeyword=${orderKeyword},
                           month=${selectedMonth},
                           requestPage=${requestCurrentPage},
                           orderPage=${pageNum}
                         )}"
                    th:text="${pageNum + 1}"
                    >1</a
                  >
                </li>

                <li
                  class="page-item"
                  th:classappend="${!orderHasNext} ? 'disabled'"
                >
                  <a
                    class="page-link"
                    th:href="@{/admin/service-requests(
                        status=${selectedStatus?.name()},
                        keyword=${keyword},
                        orderStatus=${selectedOrderStatus?.name()},
                        orderKeyword=${orderKeyword},
                        month=${selectedMonth},
                        requestPage=${requestCurrentPage},
                        orderPage=${orderCurrentPage + 1}
                      )}"
                    th:if="${orderHasNext}"
                  >
                    Sau <i class="bi bi-chevron-right"></i>
                  </a>
                  <span class="page-link" th:unless="${orderHasNext}">
                    Sau <i class="bi bi-chevron-right"></i>
                  </span>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Create Order Modal -->
<div
  class="modal fade"
  id="createOrderModal"
  tabindex="-1"
  aria-labelledby="createOrderModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createOrderModalLabel">
          Tạo đơn hàng dịch vụ
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form method="post" id="createOrderForm" data-request-id="">
          <div class="modal-form-row">
            <div class="col-md-6">
              <input type="hidden" name="requestId" id="requestIdInput" />
              <div class="mb-3">
                <label class="form-label">Dịch vụ</label>
                <input
                  type="text"
                  id="serviceNameInput"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Giá (VNĐ)</label>
                <input
                  type="number"
                  name="quotedPrice"
                  class="form-control"
                  placeholder="Nhập giá"
                />
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Địa điểm</label>
                <select id="districtSelect" class="form-select" name="district">
                  <option value="">Chọn xã/phường</option>
                  <option value="An Hai">An Hải</option>
                  <option value="An Khe">An Khê</option>
                  <option value="An Thang">An Thắng</option>
                  <option value="Avuong">Avương</option>
                  <option value="Ba">Ba</option>
                  <option value="Ba Na">Bà Nà</option>
                  <option value="Ban Thach">Bàn Thạch</option>
                  <option value="Ben Giang">Bến Giằng</option>
                  <option value="Ben Hien">Bến Hiên</option>
                  <option value="Cam Le">Cẩm Lệ</option>
                  <option value="Chien Dan">Chiên Đàn</option>
                  <option value="Dac Pring">Đắc Pring</option>
                  <option value="Dai Loc">Đại Lộc</option>
                  <option value="Dien Ban">Điện Bàn</option>
                  <option value="Dien Ban Bac">Điện Bàn Bắc</option>
                  <option value="Dien Ban Dong">Điện Bàn Đông</option>
                  <option value="Dong Duong">Đồng Dương</option>
                  <option value="Dong Giang">Prao</option>
                  <option value="Duc Phu">Đức Phú</option>
                  <option value="Duy Nghia">Duy Nghĩa</option>
                  <option value="Duy Xuyen">Duy Xuyên</option>
                  <option value="Hai Chau">Hải Châu</option>
                  <option value="Hai Van">Hải Vân</option>
                  <option value="Ha Nha">Hà Nha</option>
                  <option value="Hiep Duc">Tân Bình</option>
                  <option value="Hoa Cuong">Hòa Cường</option>
                  <option value="Hoa Khanh">Hòa Khánh</option>
                  <option value="Hoa Tien">Hòa Tiến</option>
                  <option value="Hoa Vang">Hòa Vang</option>
                  <option value="Hoa Xuan">Hòa Xuân</option>
                  <option value="Hoi An">Hội An</option>
                  <option value="Hoi An Dong">Hội An Đông</option>
                  <option value="Hoi An Tay">Hội An Tây</option>
                  <option value="Hoang Sa">Hoàng Sa</option>
                  <option value="Huong Tra">Hương Trà</option>
                  <option value="Hung Son">Hùng Sơn</option>
                  <option value="Kham Duc">Khâm Đức</option>
                  <option value="La Dee">La Dêê</option>
                  <option value="La Eee">La Êê</option>
                  <option value="Lanh Ngoc">Lãnh Ngọc</option>
                  <option value="Lien Chieu">Liên Chiểu</option>
                  <option value="Nam Giang">Nam Giang</option>
                  <option value="Nam Phuoc">Nam Phước</option>
                  <option value="Nam Tra My">Nam Trà My</option>
                  <option value="Ngu Hanh Son">Ngũ Hành Sơn</option>
                  <option value="Nong Son">Nông Sơn</option>
                  <option value="Nui Thanh">Núi Thành</option>
                  <option value="Phu Ninh">Phú Ninh</option>
                  <option value="Phu Thuan">Phú Thuận</option>
                  <option value="Phuoc Chanh">Phước Chánh</option>
                  <option value="Phuoc Hiep">Phước Hiệp</option>
                  <option value="Phuoc Nang">Phước Năng</option>
                  <option value="Phuoc Thanh">Phước Thành</option>
                  <option value="Phuoc Tra">Phước Trà</option>
                  <option value="Quang Phu">Quảng Phú</option>
                  <option value="Que Phuoc">Quế Phước</option>
                  <option value="Que Son">Quế Sơn</option>
                  <option value="Que Son Trung">Quế Sơn Trung</option>
                  <option value="Son Cam Ha">Sơn Cẩm Hà</option>
                  <option value="Son Tra">Sơn Trà</option>
                  <option value="Song Kon">Sông Kôn</option>
                  <option value="Tam Anh">Tam Anh</option>
                  <option value="Tam Hai">Tam Hải</option>
                  <option value="Tam Ky">Tam Kỳ</option>
                  <option value="Tam My">Tam Mỹ</option>
                  <option value="Tam Xuan">Tam Xuân</option>
                  <option value="Tan Hiep">Tân Hiệp</option>
                  <option value="Tay Giang">Tây Giang</option>
                  <option value="Tay Ho">Tây Hồ</option>
                  <option value="Thanh Binh">Thanh Bình</option>
                  <option value="Thanh Khe">Thanh Khê</option>
                  <option value="Thanh My">Thạnh Mỹ</option>
                  <option value="Thang An">Thăng An</option>
                  <option value="Thang Binh">Thăng Bình</option>
                  <option value="Thang Dien">Thăng Điền</option>
                  <option value="Thang Phu">Thăng Phú</option>
                  <option value="Thang Truong">Thăng Trường</option>
                  <option value="Thu Bon">Thu Bồn</option>
                  <option value="Thuong Duc">Thượng Đức</option>
                  <option value="Tien Phuoc">Tiên Phước</option>
                  <option value="Tra Doc">Trà Đốc</option>
                  <option value="Tra Giap">Trà Giáp</option>
                  <option value="Tra Leng">Trà Leng</option>
                  <option value="Tra Lien">Trà Liên</option>
                  <option value="Tra Linh">Trà Linh</option>
                  <option value="Tra My">Trà My</option>
                  <option value="Tra Tan">Trà Tân</option>
                  <option value="Tra Tap">Trà Tập</option>
                  <option value="Tra Van">Trà Vân</option>
                  <option value="Vu Gia">Vu Gia</option>
                  <option value="Viet An">Việt An</option>
                  <option value="Xuan Phu">Xuân Phú</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Địa chỉ chi tiết</label>
                <input
                  type="text"
                  name="addressDetail"
                  class="form-control"
                  placeholder="Nhập địa chỉ chi tiết"
                />
              </div>
            </div>
          </div>
          <div class="modal-form-row">
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Thời gian thực hiện</label>
                <input type="date" name="executionTime" class="form-control" />
              </div>
            </div>
            <div class="col-md-6 description-field">
              <div class="mb-3">
                <label class="form-label">Mô tả</label>
                <textarea
                  name="description"
                  class="form-control"
                  rows="4"
                  placeholder="Nhập mô tả dịch vụ"
                ></textarea>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-primary btn-action btn-contact"
          title="Liên hệ lần đầu"
        >
          <i class="bi bi-telephone"></i>
        </button>
        <button
          type="button"
          class="btn btn-info btn-action btn-update"
          title="Cập nhật thông tin"
          style="display: none"
        >
          <i class="bi bi-pencil-square"></i>
        </button>
        <button
          type="button"
          class="btn btn-success btn-action btn-confirm"
          title="Xác nhận tạo đơn"
        >
          <i class="bi bi-check-circle"></i>
        </button>
        <button
          type="button"
          class="btn btn-danger btn-action btn-cancel"
          title="Hủy yêu cầu"
        >
          <i class="bi bi-x-circle"></i>
        </button>
        <button
          type="button"
          class="btn btn-secondary btn-action"
          data-bs-dismiss="modal"
          title="Đóng"
        >
          <i class="bi bi-box-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Order Details Modal -->
<div
  class="modal fade"
  id="orderDetailsModal"
  tabindex="-1"
  aria-labelledby="orderDetailsModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="orderDetailsModalLabel">
          Chi tiết đơn hàng
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="modal-form-row">
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Mã đơn</label>
                <input
                  id="modal-id"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Tên khách hàng</label>
                <input
                  id="modal-name"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Dịch vụ</label>
                <input
                  id="modal-service"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Giá chốt</label>
                <input
                  id="modal-quoted-price"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Ngày yêu cầu</label>
                <input
                  id="modal-request-date"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Thời gian thực hiện</label>
                <input
                  id="modal-perform-date"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
              <div class="mb-3">
                <label class="form-label">Địa điểm</label>
                <input
                  id="modal-province"
                  type="text"
                  class="form-control"
                  readonly
                />
                <select
                  id="modal-province-select"
                  class="form-select"
                  style="display: none"
                >
                  <option value="">Chọn xã/phường</option>
                  <option value="An Hai">An Hải</option>
                  <option value="An Khe">An Khê</option>
                  <option value="An Thang">An Thắng</option>
                  <option value="Avuong">Avương</option>
                  <option value="Ba">Ba</option>
                  <option value="Ba Na">Bà Nà</option>
                  <option value="Ban Thach">Bàn Thạch</option>
                  <option value="Ben Giang">Bến Giằng</option>
                  <option value="Ben Hien">Bến Hiên</option>
                  <option value="Cam Le">Cẩm Lệ</option>
                  <option value="Chien Dan">Chiên Đàn</option>
                  <option value="Dac Pring">Đắc Pring</option>
                  <option value="Dai Loc">Đại Lộc</option>
                  <option value="Dien Ban">Điện Bàn</option>
                  <option value="Dien Ban Bac">Điện Bàn Bắc</option>
                  <option value="Dien Ban Dong">Điện Bàn Đông</option>
                  <option value="Dong Duong">Đồng Dương</option>
                  <option value="Dong Giang">Prao</option>
                  <option value="Duc Phu">Đức Phú</option>
                  <option value="Duy Nghia">Duy Nghĩa</option>
                  <option value="Duy Xuyen">Duy Xuyên</option>
                  <option value="Hai Chau">Hải Châu</option>
                  <option value="Hai Van">Hải Vân</option>
                  <option value="Ha Nha">Hà Nha</option>
                  <option value="Hiep Duc">Tân Bình</option>
                  <option value="Hoa Cuong">Hòa Cường</option>
                  <option value="Hoa Khanh">Hòa Khánh</option>
                  <option value="Hoa Tien">Hòa Tiến</option>
                  <option value="Hoa Vang">Hòa Vang</option>
                  <option value="Hoa Xuan">Hòa Xuân</option>
                  <option value="Hoi An">Hội An</option>
                  <option value="Hoi An Dong">Hội An Đông</option>
                  <option value="Hoi An Tay">Hội An Tây</option>
                  <option value="Hoang Sa">Hoàng Sa</option>
                  <option value="Huong Tra">Hương Trà</option>
                  <option value="Hung Son">Hùng Sơn</option>
                  <option value="Kham Duc">Khâm Đức</option>
                  <option value="La Dee">La Dêê</option>
                  <option value="La Eee">La Êê</option>
                  <option value="Lanh Ngoc">Lãnh Ngọc</option>
                  <option value="Lien Chieu">Liên Chiểu</option>
                  <option value="Nam Giang">Nam Giang</option>
                  <option value="Nam Phuoc">Nam Phước</option>
                  <option value="Nam Tra My">Nam Trà My</option>
                  <option value="Ngu Hanh Son">Ngũ Hành Sơn</option>
                  <option value="Nong Son">Nông Sơn</option>
                  <option value="Nui Thanh">Núi Thành</option>
                  <option value="Phu Ninh">Phú Ninh</option>
                  <option value="Phu Thuan">Phú Thuận</option>
                  <option value="Phuoc Chanh">Phước Chánh</option>
                  <option value="Phuoc Hiep">Phước Hiệp</option>
                  <option value="Phuoc Nang">Phước Năng</option>
                  <option value="Phuoc Thanh">Phước Thành</option>
                  <option value="Phuoc Tra">Phước Trà</option>
                  <option value="Quang Phu">Quảng Phú</option>
                  <option value="Que Phuoc">Quế Phước</option>
                  <option value="Que Son">Quế Sơn</option>
                  <option value="Que Son Trung">Quế Sơn Trung</option>
                  <option value="Son Cam Ha">Sơn Cẩm Hà</option>
                  <option value="Son Tra">Sơn Trà</option>
                  <option value="Song Kon">Sông Kôn</option>
                  <option value="Tam Anh">Tam Anh</option>
                  <option value="Tam Hai">Tam Hải</option>
                  <option value="Tam Ky">Tam Kỳ</option>
                  <option value="Tam My">Tam Mỹ</option>
                  <option value="Tam Xuan">Tam Xuân</option>
                  <option value="Tan Hiep">Tân Hiệp</option>
                  <option value="Tay Giang">Tây Giang</option>
                  <option value="Tay Ho">Tây Hồ</option>
                  <option value="Thanh Binh">Thanh Bình</option>
                  <option value="Thanh Khe">Thanh Khê</option>
                  <option value="Thanh My">Thạnh Mỹ</option>
                  <option value="Thang An">Thăng An</option>
                  <option value="Thang Binh">Thăng Bình</option>
                  <option value="Thang Dien">Thăng Điền</option>
                  <option value="Thang Phu">Thăng Phú</option>
                  <option value="Thang Truong">Thăng Trường</option>
                  <option value="Thu Bon">Thu Bồn</option>
                  <option value="Thuong Duc">Thượng Đức</option>
                  <option value="Tien Phuoc">Tiên Phước</option>
                  <option value="Tra Doc">Trà Đốc</option>
                  <option value="Tra Giap">Trà Giáp</option>
                  <option value="Tra Leng">Trà Leng</option>
                  <option value="Tra Lien">Trà Liên</option>
                  <option value="Tra Linh">Trà Linh</option>
                  <option value="Tra My">Trà My</option>
                  <option value="Tra Tan">Trà Tân</option>
                  <option value="Tra Tap">Trà Tập</option>
                  <option value="Tra Van">Trà Vân</option>
                  <option value="Vu Gia">Vu Gia</option>
                  <option value="Viet An">Việt An</option>
                  <option value="Xuan Phu">Xuân Phú</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">Địa chỉ chi tiết</label>
                <input
                  id="modal-address"
                  type="text"
                  class="form-control"
                  readonly
                />
              </div>
            </div>
            <div class="mb-3 description-field">
              <label class="form-label">Mô tả</label>
              <textarea
                id="modal-note"
                class="form-control"
                rows="4"
                readonly
              ></textarea>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          id="btn-edit"
          class="btn btn-primary btn-action"
          title="Chỉnh sửa đơn hàng"
        >
          <i class="bi bi-pencil"></i>
        </button>
        <button
          id="btn-payment"
          class="btn btn-warning btn-action"
          title="Đánh dấu đã thanh toán"
        >
          <i class="bi bi-credit-card"></i>
        </button>
        <button
          id="btn-confirm"
          class="btn btn-success btn-action"
          title="Hoàn thành đơn hàng"
        >
          <i class="bi bi-check-circle"></i>
        </button>
        <button
          id="btn-cancel"
          class="btn btn-danger btn-action"
          title="Hủy đơn hàng"
        >
          <i class="bi bi-x-circle"></i>
        </button>
        <button
          type="button"
          class="btn btn-secondary btn-action"
          data-bs-dismiss="modal"
          title="Đóng"
        >
          <i class="bi bi-box-arrow-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/list-order-service.js}"></script>
