<style>
    .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 14px;
    }
    .status-active {
        background-color: #28a745; /* xanh */
        color: #fff;
    }
    .status-inactive {
        background-color: #dc3545; /* đỏ */
        color: #fff;
    }
</style>
<main class="container mt-3">
    <h3>Danh sách các đánh giá </h3>
    <hr />

    <!-- Tab Content -->

    <i class="error" th:if="${error}" th:text="${error}"></i>
    <!-- Tab: Danh sách -->
    <div class="" id="list">
        <form action="/Contact/index/admin" method="get"
            class="d-flex justify-content-between align-items-center flex-wrap" style="gap: 10px; margin-bottom: 15px">
            <!-- Bên trái: dropdown lọc -->
            <div class="search-box">
                <select name="status" class="form-control form-control-sm custom-search-input"
                    onchange="this.form.submit()">
                    <option value="">-- Tất cả --</option>
                    <option value="false" th:selected="${status == 'false'}">
                        Chưa xử lý
                    </option>
                    <option value="true" th:selected="${status == 'true'}">
                        Đã xử lý
                    </option>
                </select>
            </div>

            <!-- Bên phải: tổng kết quả -->
            <div class="count-box" th:text="'Tổng: ' + ${totalItems} + ' Đánh giá'"></div>
        </form>

        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th class="text-start">Tên</th>
                        <th class="text-start">Số điện thoại</th>
                        <th class="text-start">Email</th>
                        <th class="text-start">Nội dung</th>
                        <th class="text-start">Trạng thái</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <th:block th:if="${#lists.isEmpty(inactiveReview)}">
                        <tr>
                            <td colspan="7" class="text-center text-muted">
                                <i class="fa fa-info-circle me-1"></i>
                                Không có đánh giá nào
                            </td>
                        </tr>
                    </th:block>
                    <th:block th:each="item : ${inactiveReview}">
                        <tr>
                            <td th:text="${item.id}"></td>
                            <td class="text-start" th:text="${item.user.name}"></td>
                            <td class="text-start" th:text="${item.user.sdt}"></td>
                            <td class="text-start" th:text="${item.user.email}"></td>
                            <td class="text-start" th:text="${item.content}"></td>
                            <td th:text="${item.status == 'Active' ? 'Active' : 'Inactive'}"
                                th:class="${item.status == 'Active' ? 'text-success' : 'text-danger'}"></td>

                            <td th:if="${item.status == 'Inactive'}">
                                <a th:href="@{/admin/reviews/duyetReview/{id}(id=${item.id}, status=${status}, page=${currentPage})}"
                                    class="btn btn-success">
                                    Duyệt
                                </a>
                            </td>
                           
                        </tr>
                    </th:block>
                </tbody>
            </table>
        </div>
        <div class="d-flex justify-content-center mt-3" th:if="${totalPages > 0}">
            <nav>
                <ul class="pagination custom-pagination">
                    <!-- First Page -->
                    <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                        <a class="page-link" th:href="@{/Contact/index/admin(page=0, size=10)}">
                            <i class="fa fa-angle-double-left"></i>
                        </a>
                    </li>

                    <!-- Previous Page -->
                    <li class="page-item" th:classappend="${currentPage == 0} ? 'disabled'">
                        <a class="page-link" th:href="@{/Contact/index/admin(page=${currentPage - 1}, size=10)}">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    </li>

                    <!-- Page Numbers -->
                    <li class="page-item" th:each="i : ${#numbers.sequence(0, totalPages - 1)}"
                        th:classappend="${currentPage == i} ? 'active'">
                        <a class="page-link" th:href="@{/Contact/index/admin(page=${i}, size=10)}"
                            th:text="${i + 1}"></a>
                    </li>

                    <!-- Next Page -->
                    <li class="page-item" th:classappend="${currentPage + 1 == totalPages} ? 'disabled'">
                        <a class="page-link" th:href="@{/Contact/index/admin(page=${currentPage + 1}, size=10)}">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    </li>

                    <!-- Last Page -->
                    <li class="page-item" th:classappend="${currentPage + 1 == totalPages} ? 'disabled'">
                        <a class="page-link" th:href="@{/Contact/index/admin(page=${totalPages - 1}, size=10)}">
                            <i class="fa fa-angle-double-right"></i>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</main>